{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nlet formData = {\n  email: '',\n  message: '',\n};\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nconst onInputData = () => {\n  const storageData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n\n  if (!storageData) {\n    return;\n  }\n\n  formData = storageData;\n\n  refs.form.elements.email.value = formData.email;\n  refs.form.elements.message.value = formData.message;\n};\n\nonInputData();\n\nrefs.form.addEventListener('input', e => {\n  const keys = Object.keys(formData);\n\n  keys.forEach(key => {\n    formData[key] = e.currentTarget.elements[key].value;\n  });\n\n  try {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(formData));\n  } catch (err) {\n    console.log(err.message);\n  }\n});\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const keys = Object.keys(formData);\n\n  if (keys.some(key => !formData[key])) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n\n  e.target.reset();\n  formData = { email: '', message: '' };\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n});\n"],"names":["refs","formData","LOCAL_STORAGE_KEY","onInputData","storageData","e","key","err"],"mappings":"oDAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACA,MAAMC,EAAoB,sBAEpBC,EAAc,IAAM,CACxB,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQF,CAAiB,CAAC,EAEjEE,IAILH,EAAWG,EAEXJ,EAAK,KAAK,SAAS,MAAM,MAAQC,EAAS,MAC1CD,EAAK,KAAK,SAAS,QAAQ,MAAQC,EAAS,QAC9C,EAEAE,IAEAH,EAAK,KAAK,iBAAiB,QAASK,GAAK,CAC1B,OAAO,KAAKJ,CAAQ,EAE5B,QAAQK,GAAO,CAClBL,EAASK,CAAG,EAAID,EAAE,cAAc,SAASC,CAAG,EAAE,KAClD,CAAG,EAED,GAAI,CACF,aAAa,QAAQJ,EAAmB,KAAK,UAAUD,CAAQ,CAAC,CACjE,OAAQM,EAAK,CACZ,QAAQ,IAAIA,EAAI,OAAO,CACxB,CACH,CAAC,EAEDP,EAAK,KAAK,iBAAiB,SAAUK,GAAK,CAKxC,GAJAA,EAAE,eAAc,EAEH,OAAO,KAAKJ,CAAQ,EAExB,KAAKK,GAAO,CAACL,EAASK,CAAG,CAAC,EAAG,CACpC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIL,CAAQ,EAEpBI,EAAE,OAAO,QACTJ,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAWC,CAAiB,CAC3C,CAAC"}